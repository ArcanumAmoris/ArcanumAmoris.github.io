(this.webpackJsonpnotepad=this.webpackJsonpnotepad||[]).push([[0],{178:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(15),r=n.n(o),a=n(5),i=(n(70),n(29)),s=n(27),u=(n(75),n(76),n(40)),l=n(30);var d=Object(l.a)({SetCurrentNote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_NOTE":return t.payload;default:return e}},NotesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTES":return t.payload;default:return e}},SetMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return t.payload;default:return e}},SetQuill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUILL":return t.payload;default:return e}},SetNewQuill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEW_QUILL":return t.payload;default:return e}}}),f=Object(l.b)(d,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),b=function(e){return{type:"SET_MESSAGE",payload:e}},j=function(e){return{type:"SET_NOTES",payload:e}},h=function(e){return{type:"SET_NEW_QUILL",payload:e}};function O(e){return Array.from(Object.keys(localStorage).join(" ")).some((function(t){return t>e}))}function p(e,t,n){if(console.log(Object.keys(localStorage).join(" ")),e)!function(e,t){for(var n=0;n<localStorage.length;n++){var c=localStorage.key(n);if(c==t){localStorage.setItem(c,JSON.stringify(e.getContents().ops)),setTimeout((function(){f.dispatch(b("")),f.dispatch(h(""))}),4e3),f.dispatch(h(" ")),f.dispatch(b("Your changes have been saved!")),v();break}}}(t,n);else for(var c=0;c<1e8;c++)if(!localStorage.getItem(c)&&!O(c)){localStorage.setItem(c,JSON.stringify(t.getContents().ops)),setTimeout((function(){f.dispatch(b("")),f.dispatch(h(" "))}),4e3),f.dispatch(h("")),f.dispatch(b("Your note has been saved!")),v();break}}function v(){var e=Object.keys(localStorage).reduce((function(e,t){return[].concat(Object(u.a)(e),[{id:t,note:localStorage[t]}])}),[]);g(e),f.dispatch(j(e))}function S(e,t){f.dispatch(function(e,t){return{type:"SET_CURRENT_NOTE",payload:{selectedNote:e,index:t}}}(e,t)),function(e){var t=function(){var e=Object.keys(localStorage).reduce((function(e,t){return[].concat(Object(u.a)(e),[{id:t,note:localStorage[t]}])}),[]);return g(e),e}().filter((function(t){return t.id!==e}));f.dispatch(j(t))}(t)}function g(e){return e.sort((function(e,t){return e.id-t.id}))}function E(e){var t=JSON.parse(e)[0].insert;return t.split(" ",10).join(" ")+(t.length>20?"...":" ")}var N=[[{font:[]},{size:[]}],["bold","italic","underline"],[{color:[]},{background:[]}],[{header:[1,2,3,4,5]},"code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["clean"]],y=n(2);var m=function(){var e=Object(a.b)((function(e){return e.SetCurrentNote.selectedNote})),t=Object(a.b)((function(e){return e.SetCurrentNote.index})),n=Object(a.b)((function(e){return e.SetNewQuill})),o=Object(a.b)((function(e){return e.SetMessage})),r=Object(a.b)((function(e){return e.SetQuill})),u=Object(c.useState)(!0),l=Object(i.a)(u,2),d=l[0],b=l[1],j=Object(c.useCallback)((function(e){if(null!=e){e.innerHTML="";var t=document.createElement("div");e.append(t);var n=new s(t,{modules:{toolbar:N},theme:"snow"});f.dispatch(function(e){return{type:"SET_QUILL",payload:e}}(n))}}),[n]);return Object(c.useEffect)((function(){null!=r&&r.on("text-change",(function(e){var t=r.getLength();b(t-1==0)}))}),[r]),Object(c.useEffect)((function(){null!=r&&(window.scroll(0,0),r.setContents(JSON.parse(e),"user"))}),[e]),Object(y.jsxs)(y.Fragment,{children:[o&&Object(y.jsx)("div",{className:"message",children:o}),Object(y.jsx)("div",{className:"container",ref:j}),Object(y.jsx)("button",{className:"save",onClick:function(){return p(e,r,t)},disabled:d,children:"Save"})]})},_=(n(78),n(61)),T=n.n(_),x=n(192);var w=function(){var e=Object(a.b)((function(e){return e.NotesReducer})),t=Object(c.useState)(!1),n=Object(i.a)(t,2),o=n[0],r=n[1],s=localStorage.length;return Object(c.useEffect)((function(e){v()}),[]),Object(y.jsxs)("div",{className:"notes",children:[Object(y.jsxs)("div",{className:"notes_header",children:[Object(y.jsx)(x.a,{className:"selectDlt",onClick:function(){return r(!o)}}),Object(y.jsxs)("p",{children:["You have ",s," notes"]})]}),Object(y.jsx)("div",{children:e.map((function(e){return Object(y.jsxs)("div",{onClick:function(){return S(e.note,e.id)},className:"editorDiv",children:[o&&Object(y.jsx)(x.a,{className:"delBtn",onClick:function(t){return function(e,t){t.stopPropagation(),localStorage.removeItem(e),v(),setTimeout((function(){f.dispatch(b(""))}),4e3),f.dispatch(b("Your note has successfully been deleted!"))}(e.id,t)}}),Object(y.jsx)(T.a,{className:"note",value:E(e.note),readOnly:!0})]},e.id)}))})]})};var k=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)(w,{}),Object(y.jsx)(m,{})]})})};function C(){r.a.render(Object(y.jsx)(a.a,{store:f,children:Object(y.jsx)(k,{})}),document.getElementById("root"))}C(),f.subscribe(C)},70:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){}},[[178,1,2]]]);
//# sourceMappingURL=main.70c29343.chunk.js.map